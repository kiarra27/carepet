<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Shop</title>

	<!-- responsive meta -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    
	<link rel="stylesheet" href="assets/css/aos.css">
	<link rel="stylesheet" href="assets/css/bootstrap.min.css">	
	<link rel="stylesheet" href="assets/css/imp.css">
	<link rel="stylesheet" href="assets/css/custom-animate.css">
	<link rel="stylesheet" href="assets/css/flaticon.css">
	<link rel="stylesheet" href="assets/css/font-awesome.min.css">
	<link rel="stylesheet" href="assets/css/owl.css">
	<link rel="stylesheet" href="assets/css/magnific-popup.css">
	<link rel="stylesheet" href="assets/css/scrollbar.css">
	<link rel="stylesheet" href="assets/css/hiddenbar.css">
    <link rel="stylesheet" href="assets/css/color.css">
    <link href="assets/css/color/theme-color.css" id="jssDefault" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
	<link rel="stylesheet" href="assets/css/responsive.css">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="assets/images/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="assets/images/favicon/favicon-16x16.png" sizes="16x16">

    <style>
        /* FIXED HEADER STYLES */
        .main-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 999;
            background: #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        body {
            padding-top: 150px; /* Sesuaikan dengan tinggi header */
        }
        
        .add-to-cart-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            display: none;
            z-index: 10000;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .product-card {
            transition: transform 0.2s;
        }
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        /* Header kontras improvement */
        .header-style-two .header-top.style2 {
            background: linear-gradient(90deg, #2c3e50, #34495e) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .header-style-two .header {
            background: #ffffff !important;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }
        
        .header-contact-info.style2 ul li,
        .header-social-link.style2 ul li a {
            color: #ffffff !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .header-contact-info.style2 ul li span {
            color: #ff9900 !important;
        }
        
        .main-menu.style1 .navigation > li > a {
            color: #2c3e50 !important;
            font-weight: 600;
            text-shadow: none;
            transition: all 0.3s ease;
        }
        
        .main-menu.style1 .navigation > li > a:hover {
            color: #ff9900 !important;
            background: rgba(255, 153, 0, 0.05);
        }
        
        .btn-one.style2 {
            background: linear-gradient(135deg, #ff9900, #e67e22) !important;
            color: white !important;
            border: none !important;
            box-shadow: 0 4px 15px rgba(255, 153, 0, 0.3);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .btn-one.style2:hover {
            background: linear-gradient(135deg, #e67e22, #d35400) !important;
            box-shadow: 0 6px 20px rgba(255, 153, 0, 0.4);
            transform: translateY(-2px);
        }

        .breadcrumb-area {
            position: relative;
            margin-top: 0;
        }

        .breadcrumb-area:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom, 
                rgba(0, 0, 0, 0.4),
                rgba(0, 0, 0, 0.2)
            );
            z-index: 1;
        }

        .breadcrumb-area .inner-content {
            position: relative;
            z-index: 2;
        }
    </style>
</head>

<body>
<div class="boxed_wrapper">

<!-- Header Section - FIXED -->
<header class="main-header header-style-two">
  <!--Start Header Top--> 
  <div class="header-top style2">
      <div class="outer-container">
          <div class="outer-box clearfix">
             
              <div class="header-top-left pull-left">
                  <div class="header-contact-info style2">
                      <ul>
                          <li><span class="icon-envelope"></span><a href="mailto:logistic@email.com">info@website.com</a></li>
                          <li><span class="icon-phone-call"></span><a href="tel:123456789">+098987 876 767</a></li>
                      </ul>
                  </div>
              </div>
              
              <div class="header-top-right pull-right">
                  <div class="header-social-link style2">
                      <ul>
                          <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                          <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                          <li><a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
                          <li><a href="#"><i class="fa fa-behance" aria-hidden="true"></i></a></li>
                          <li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                      </ul>
                  </div>      
              </div> 
                
          </div>
      </div>    
  </div> 
  <!--End header Top-->

  <div class="header">
      <div class="outer-container">
          <div class="outer-box clearfix">
              <!--Start Header Left-->
              <div class="header-left clearfix pull-left">
                 
                  <div class="logo">
                      <a href="index.php"><img src="assets/images/resources/logo-2.png" alt="Awesome Logo" title=""></a>
                  </div>
                  
                  <div class="nav-outer clearfix">
                      <!--Mobile Navigation Toggler-->
                      <div class="mobile-nav-toggler">
                          <div class="inner">
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                              <span class="icon-bar"></span>
                          </div>
                      </div>
                      <!-- Main Menu -->
                      <nav class="main-menu style1 navbar-expand-md navbar-light">
                          <div class="collapse navbar-collapse show clearfix" id="navbarSupportedContent">
                              <ul class="navigation clearfix">
                                  <li><a href="index.php">Home</a>
                                      <ul>
                                          <li><a href="cart.html"><i class="fa fa-shopping-cart"></i> Cart (<span class="nav-cart-count">0</span>)</a></li>
                                      </ul>
                                  </li>
                                  <li><a href="about.html">About</a></li>
                                  <li><a href="services.html">Services</a></li>
                                  <li class="current"><a href="shop.html">Our Shop</a></li>
                                  <li><a href="news.html">News</a></li>
                                  <li><a href="contact.html">Contact</a></li>
                              </ul>
                          </div>
                      </nav>                        
                      <!-- Main Menu End-->
                  </div>
                  
              </div>
              <!--End Header Left-->
              
              <!--Start Header Right-->
              <div class="header-right pull-right clearfix">
                  <div class="button">
                      <a class="btn-one style2" href="#"><span class="txt">Get Appointment</span></a>
                  </div>
                  <div class="hidden-content-button bar-box style2">
                      <a class="side-nav-toggler nav-toggler hidden-bar-opener" href="#">
                          <ul>
                              <li class="red2"></li>
                              <li class="red2"></li>
                              <li></li>
                          </ul>
                          <ul>
                              <li></li>
                              <li></li>
                              <li></li>
                          </ul>
                          <ul>
                              <li class="red2"></li>
                              <li></li>
                              <li class="red2"></li>
                          </ul>
                      </a>
                  </div>
              </div>
              <!--End Header Right-->
              
          </div>  
      </div>
  </div>
  <!--End header -->
  
  <!-- Mobile Menu  -->
  <div class="mobile-menu">
      <div class="menu-backdrop"></div>
      <div class="close-btn"><span class="icon flaticon-multiply"></span></div>

      <nav class="menu-box">
          <div class="nav-logo"><a href="index.php"><img src="assets/images/resources/mobilemenu-logo.png" alt="" title=""></a></div>
          <div class="menu-outer"><!--Here Menu Will Come Automatically Via Javascript / Same Menu as in Header--></div>
          <!--Social Links-->
          <div class="social-links">
              <ul class="clearfix">
                  <li><a href="#"><span class="fab fa fa-facebook-square"></span></a></li>
                  <li><a href="#"><span class="fab fa fa-twitter-square"></span></a></li>
                  <li><a href="#"><span class="fab fa fa-pinterest-square"></span></a></li>
                  <li><a href="#"><span class="fab fa fa-google-plus-square"></span></a></li>
                  <li><a href="#"><span class="fab fa fa-youtube-square"></span></a></li>
              </ul>
          </div>
      </nav>
  </div>
  <!-- End Mobile Menu --> 
</header>

<!-- Add to Cart Notification -->
<div class="add-to-cart-notification" id="cart-notification">
    Item berhasil ditambahkan ke keranjang!
</div>

<!-- Breadcrumb -->
<section class="breadcrumb-area" style="background-image: url(assets/images/breadcrumb/breadcrumb-1.png);">
    <div class="banner-curve"></div>
    <div class="container">
        <div class="row">
            <div class="col-xl-12">
                <div class="inner-content clearfix text-center">
                    <div class="title">
                       <h2>Our Shop<span class="dotted"></span></h2>
                    </div>
                    <div class="breadcrumb-menu">
                        <ul class="clearfix">
                            <li><a href="cart.html"><i class="fa fa-shopping-cart"></i> Keranjang (<span id="cart-count">0</span>)</a></li>
                            <li class="active">Shop</li>
                        </ul>    
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Start Shop Area -->
<section class="shop-area">
    <div class="container">
        <div class="row">
            <!-- Produk -->
            <div class="col-xl-9 col-lg-8">
                <div class="shop-content">
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="showing-result-shorting">
                                <div class="showing">
                                    <p>Showing all products</p>
                                </div> 
                                <div class="shorting"> 
                                    <select class="selectpicker" data-width="100%" onchange="sortProducts(this.value)">
                                        <option selected="selected" value="default">Default Sorting</option>
                                        <option value="price-low">Price: Low to High</option>
                                        <option value="price-high">Price: High to Low</option>
                                        <option value="name">Name A-Z</option>
                                        <option value="stock">Stock Available First</option>
                                    </select>       
                                </div>
                            </div>     
                        </div>
                    </div>
                    
                    <div class="container my-5">
                      <div class="row" id="shop-products"></div>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="col-xl-3 col-lg-4">
                <div class="single-sidebar-style2">
                    <div class="title"><h4>Filter By Category</h4></div>
                    <ul class="category-filter">
                        <li><a href="#" onclick="filterByCategory('all')">All Products</a></li>  
                        <li><a href="#" onclick="filterByCategory('food')">Pet Food</a></li>  
                        <li><a href="#" onclick="filterByCategory('accessories')">Accessories</a></li>  
                        <li><a href="#" onclick="filterByCategory('medicine')">Medicine</a></li>  
                        <li><a href="#" onclick="filterByCategory('care')">Pet Care</a></li>  
                    </ul>    
                </div>

                <div class="single-sidebar-style2">
                    <div class="title"><h4>Filter By Price</h4></div>
                    <div class="price-filter">
                        <label>Min Price:</label>
                        <input type="number" id="min-price" placeholder="0" min="0">
                        <label>Max Price:</label>
                        <input type="number" id="max-price" placeholder="1000000" min="0">
                        <button onclick="filterByPrice()" class="btn btn-sm btn-primary mt-2">Apply Filter</button>
                    </div>
                </div>

                <div class="single-sidebar-style2">
                    <div class="title"><h4>Filter By Stock</h4></div>
                    <ul class="stock-filter">
                        <li><a href="#" onclick="filterByStock('all')">All Stock</a></li>    
                        <li><a href="#" onclick="filterByStock('in-stock')">In Stock</a></li>    
                        <li><a href="#" onclick="filterByStock('low-stock')">Low Stock</a></li>    
                        <li><a href="#" onclick="filterByStock('out-of-stock')">Out of Stock</a></li>    
                    </ul>  
                </div>

                <div class="shop-sidebar-image-box">
                    <img src="assets/images/shop/shop-sidebar-image.jpg" alt="">    
                </div>
            </div>
        </div>
    </div>
</section>

<!--Start footer area-->  
<footer class="footer-area">
    <div class="footer-bg" style="background-image: url(assets/images/shape/footer-bg.png)"></div>    
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xl-12">
                    <div class="footer-logo">
                        <div class="logo">
                            <a href="index.php"><img src="assets/images/footer/footer-logo.png" alt="Awesome Footer Logo" title="Logo"></a> 
                        </div>
                        <div class="copy-right">
                            <p>Copyright & Design By</p>
                            <h4>WebTend - 2020</h4>
                        </div>  
                    </div>
                    <div class="footer-menu">
                        <ul>
                            <li><a href="#">Terms & Conditions</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Refund Policy</a></li>
                            <li><a href="#">Get Support</a></li>
                        </ul>
                    </div>
                    <div class="footer-contact-info">
                        <div class="single-box">
                            <div class="icon">
                                <span class="icon-phone-call"></span>
                            </div>
                            <div class="title">
                                <span>Emergency Call</span>
                                <h3><a href="tel:123456789">+987 876 877 876 6</a></h3>
                            </div>
                        </div>
                        <div class="single-box">
                            <div class="icon">
                                <span class="icon-phone-call"></span>
                            </div>
                            <div class="title">
                                <span>Support Email</span>
                                <h3><a href="mailto:logistic@email.com">info@webmail.com</a></h3>
                            </div>
                        </div>
                        <div class="single-box">
                            <div class="icon">
                                <span class="icon-phone-call"></span>
                            </div>
                            <div class="title">
                                <span>Address</span>
                                <h3>14/A, New York, NYC</h3>
                            </div>
                        </div>
                        <div class="footer-social-info">
                            <a href="#" class="fb-clr"><i class="fa fa-facebook"></i></a>
                            <a href="#" class="tw-clr"><i class="fa fa-twitter"></i></a>
                            <a href="#" class="you-clr"><i class="fa fa-youtube"></i></a>
                            <a href="#" class="sk-clr"><i class="fa fa-skype"></i></a>
                        </div>
                    </div>
                    
                </div>  
                
            </div>
        </div>
    </div>
</footer>   
<!--End footer area-->

</div> 

<!-- Scroll Top -->
<button class="scroll-top scroll-to-target" data-target="html">
    <span class="fa fa-angle-up"></span>
</button> 

<!-- Scripts -->
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.bundle.min.js"></script>

<script>
  const products = [
    {id:1,name:"M-Pets Pet Food Container 4.5 kg",price:429500,available:20,status:"In Stock",image:"assets/images/produk/1.png",category:"accessories"},
    {id:2,name:"Holytachi Dryer Comb HT-RK50",price:365400,available:5,status:"Low Stock",image:"assets/images/produk/2.png",category:"accessories"},
    {id:3,name:"Unicharm Pet - MannerWear Pet Diaper (10pcs)",price:115400,available:0,status:"Out of Stock",image:"assets/images/produk/3.jpg",category:"care"},
    {id:4,name:"LIFE CAT PLUS Kaleng 400 g",price:16550,available:37,status:"In Stock",image:"assets/images/produk/4.jpg",category:"food"},
    {id:5,name:"Ori Dog",price:25200,available:10,status:"In Stock",image:"assets/images/produk/5.png",category:"food"},
    {id:6,name:"Bio Cat 400 Gr",price:15500,available:14,status:"In Stock",image:"assets/images/produk/6.jpg",category:"food"},
    {id:7,name:"Kitchen Flavor Dog Food 1.5kg",price:101400,available:3,status:"Low Stock",image:"assets/images/produk/7.jpg",category:"food"},
    {id:8,name:"Unicharm Deli-Joy Creamy 14g",price:26000,available:0,status:"Out of Stock",image:"assets/images/produk/8.png",category:"food"},
    {id:9,name:"BANTRIN",price:769780,available:16,status:"In Stock",image:"assets/images/produk/9.png",category:"medicine"},
    {id:10,name:"ALIGN PLUS",price:232464,available:6,status:"Low Stock",image:"assets/images/produk/10.png",category:"medicine"},
    {id:11,name:"Revolver Plus",price:232464,available:25,status:"In Stock",image:"assets/images/produk/11.png",category:"medicine"},
    {id:12,name:"Subazole (Shampoo)",price:229037,available:2,status:"Low Stock",image:"assets/images/produk/12.png",category:"care"},
    {id:13,name:"Palaseb (Shampoo)",price:149712,available:0,status:"Out of Stock",image:"assets/images/produk/13.png",category:"care"},
    {id:14,name:"Nutri Pets",price:104835,available:10,status:"In Stock",image:"assets/images/produk/14.png",category:"food"},
    {id:15,name:"SNACK CREAMY TREATS",price:14850,available:6,status:"In Stock",image:"assets/images/produk/20.png",category:"food"},
    {id:16,name:"Drontal Dog Obat Cacing",price:33000,available:6,status:"In Stock",image:"assets/images/produk/15.jpg",category:"medicine"},
    {id:17,name:"Dogness Dog Harness",price:158000,available:6,status:"In Stock",image:"assets/images/produk/16.png",category:"accessories"},
    {id:18,name:"Dogness Smart Feeding Feeder Mini 2L",price:990000,available:6,status:"In Stock",image:"assets/images/produk/17.png",category:"accessories"},
    {id:19,name:"Dogness Retractable Leash",price:152000,available:6,status:"In Stock",image:"assets/images/produk/18.png",category:"accessories"},
    {id:20,name:"DEODORANT BEADS",price:68400,available:6,status:"In Stock",image:"assets/images/produk/19.png",category:"care"}
  ];

  let currentFilter = {
    category: 'all',
    stock: 'all',
    minPrice: 0,
    maxPrice: Infinity,
    sort: 'default'
  };

  const formatRupiah = (num) => new Intl.NumberFormat('id-ID',{style:'currency',currency:'IDR'}).format(num);
  
  function triggerCartChange() {
    window.dispatchEvent(new CustomEvent('cartChanged'));
    window.dispatchEvent(new StorageEvent('storage', {
      key: 'cart',
      newValue: localStorage.getItem('cart')
    }));
  }

  function showNotification(message) {
    const notification = document.getElementById('cart-notification');
    notification.textContent = message;
    notification.style.display = 'block';
    
    setTimeout(() => {
      notification.style.display = 'none';
    }, 3000);
  }

  function getFilteredProducts() {
    return products.filter(p => {
      if (currentFilter.category !== 'all' && p.category !== currentFilter.category) {
        return false;
      }
      
      if (currentFilter.stock !== 'all') {
        if (currentFilter.stock === 'in-stock' && p.available <= 0) return false;
        if (currentFilter.stock === 'low-stock' && (p.available > 5 || p.available <= 0)) return false;
        if (currentFilter.stock === 'out-of-stock' && p.available > 0) return false;
      }
      
      if (p.price < currentFilter.minPrice || p.price > currentFilter.maxPrice) {
        return false;
      }
      
      return true;
    });
  }

  function sortProducts(sortType) {
    currentFilter.sort = sortType;
    loadProducts();
  }

  function filterByCategory(category) {
    currentFilter.category = category;
    loadProducts();
  }

  function filterByStock(stockType) {
    currentFilter.stock = stockType;
    loadProducts();
  }

  function filterByPrice() {
    const minPrice = parseInt(document.getElementById('min-price').value) || 0;
    const maxPrice = parseInt(document.getElementById('max-price').value) || Infinity;
    
    currentFilter.minPrice = minPrice;
    currentFilter.maxPrice = maxPrice;
    loadProducts();
  }

  function loadProducts() {
    const container = document.getElementById('shop-products');
    container.innerHTML = '';

    let filteredProducts = getFilteredProducts();
    
    switch(currentFilter.sort) {
      case 'price-low':
        filteredProducts.sort((a,b) => a.price - b.price);
        break;
      case 'price-high':
        filteredProducts.sort((a,b) => b.price - a.price);
        break;
      case 'name':
        filteredProducts.sort((a,b) => a.name.localeCompare(b.name));
        break;
      case 'stock':
        filteredProducts.sort((a,b) => b.available - a.available);
        break;
    }

    if (filteredProducts.length === 0) {
      container.innerHTML = `
        <div class="col-12 text-center">
          <p class="text-muted">Tidak ada produk yang sesuai dengan filter.</p>
        </div>
      `;
      return;
    }

    filteredProducts.forEach(p=>{
      const col = document.createElement('div');
      col.className = "col-md-4 mb-4 d-flex";
      
      const stockBadge = p.available > 10 ? 'success' : p.available > 0 ? 'warning' : 'danger';
      
      col.innerHTML = `
        <div class="product-card text-center p-3 border rounded shadow-sm flex-fill">
          <div class="position-relative">
            <img src="${p.image}" alt="${p.name}" class="img-fluid mb-2" 
                 style="height:180px;object-fit:contain;" 
                 onerror="this.src='https://via.placeholder.com/180x180?text=No+Image'">
            <span class="badge bg-${stockBadge} position-absolute" style="top:5px;right:5px;">
              ${p.status}
            </span>
          </div>
          <h5 style="font-size:15px;min-height:50px;">${p.name}</h5>
          <p class="text-primary"><strong>${formatRupiah(p.price)}</strong></p>
          <p class="text-muted">Stock: <span class="badge bg-${stockBadge}">${p.available}</span></p>
          ${p.status==="Out of Stock"
            ? `<button class="btn btn-secondary btn-sm" disabled>
                 <i class="fa fa-ban"></i> Out of Stock
               </button>`
            : `<button class="btn btn-primary btn-sm" onclick="addToCart(${p.id})">
                 <i class="fa fa-cart-plus"></i> Add to Cart
               </button>`}
        </div>
      `;
      container.appendChild(col);
    });
  }

  function addToCart(id){
    const product = products.find(p => p.id === id);
    if (!product) return;

    if (product.available <= 0) {
      showNotification('Produk tidak tersedia!');
      return;
    }

    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const existing = cart.find(item => item.id === id);
    
    if(existing){
      existing.qty += 1;
    } else {
      cart.push({
        id: product.id,
        name: product.name,
        price: product.price,
        image: product.image,
        qty: 1
      });
    }
    
    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartCount();
    triggerCartChange();
    showNotification(`${product.name} berhasil ditambahkan ke keranjang!`);
  }

  function updateCartCount(){
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let count = cart.reduce((sum, item) => sum + item.qty, 0);
    
    const cartCountElement = document.getElementById("cart-count");
    if (cartCountElement) {
      cartCountElement.textContent = count;
    }
    
    const navCartCounts = document.querySelectorAll(".nav-cart-count");
    navCartCounts.forEach(element => {
      element.textContent = count;
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    loadProducts();
    updateCartCount();
  });

  window.addEventListener('storage', function(e) {
    if (e.key === 'cart') {
      updateCartCount();
    }
  });

  window.addEventListener('cartChanged', function() {
    updateCartCount();
  });
</script>

</body>
</html>